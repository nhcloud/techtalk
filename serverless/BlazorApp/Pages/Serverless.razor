@page "/serverless"
@inject HttpClient Http

<h1>Call to Serverless</h1>

<p>This component demonstrates fetching data from the azure functions.</p>

@if (string.IsNullOrEmpty(message))
{
    <p><em>Loading...</em></p>
}
else
{
    <p>The message is: @message</p>
}

@code {
    string message;

    protected override async Task OnInitializedAsync()
    {
        message = await Http.GetStringAsync($"http://localhost:7071/api/StorageOp?name={Guid.NewGuid()}");
    }
}
